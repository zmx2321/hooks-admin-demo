import{c as V,e as ie,_ as Ve,b as ge,a as m,d as L,j as ne}from"./@babel.cf8b4fc6.js";import{r as t}from"./react.658dc38c.js";import{h as In,i as Kt,s as $n,t as Hn,n as Ae,F as Ht,G as Pt,c as Pn,A as Bt,p as Bn,H as Ot,I as On,w as Fn,v as zn}from"./rc-util.501ec4cf.js";import{c as ce}from"./classnames.8d8ee7c7.js";import{s as lt}from"./shallowequal.e1b53d17.js";import{R as st}from"./rc-resize-observer.9ad134fd.js";function Wn(e){return null}function Kn(e){return null}var An="RC_TABLE_KEY";function At(e){return e==null?[]:Array.isArray(e)?e:[e]}function Dt(e,n){if(!n&&typeof n!="number")return e;for(var r=At(n),o=e,a=0;a<r.length;a+=1){if(!o)return null;var l=r[a];o=o[l]}return o}function Ue(e){var n=[],r={};return e.forEach(function(o){for(var a=o||{},l=a.key,c=a.dataIndex,i=l||At(c).join("-")||An;r[i];)i="".concat(i,"_next");r[i]=!0,n.push(i)}),n}function rt(e){return e!=null}var Vt=t.exports.createContext(!1);function Dn(){var e=t.exports.createContext(null),n=function(o){var a=o.value,l=o.children,c=t.exports.useRef(a);c.current=a;var i=t.exports.useState(function(){return{getValue:function(){return c.current},listeners:new Set}}),s=V(i,1),d=s[0];return Kt(function(){d.listeners.forEach(function(f){f(a)})},[a]),t.exports.createElement(e.Provider,{value:d},l)};return{Context:e,Provider:n}}function Vn(e,n){var r=In(n),o=t.exports.useContext(e==null?void 0:e.Context),a=o||{},l=a.listeners,c=a.getValue,i=t.exports.useState(function(){return r(o?c():null)}),s=V(i,2),d=s[0],f=s[1];return Kt(function(){if(!o)return;function u(p){f(function(x){var v=r(p);return lt(x,v)?x:v})}return l.add(u),function(){l.delete(u)}},[o]),d}var Ut=Dn(),Xe=t.exports.createContext(null),Xt=t.exports.createContext({renderWithProps:!1}),Un=["colSpan","rowSpan","style","className"];function Xn(e,n,r,o){var a=e+n-1;return e<=o&&a>=r}function jn(e){return e&&Ve(e)==="object"&&!Array.isArray(e)&&!t.exports.isValidElement(e)}function _n(e){return typeof e=="string"?!0:$n(e)}var Yn=function(n){var r=n.ellipsis,o=n.rowType,a=n.children,l,c=r===!0?{showTitle:!0}:r;return c&&(c.showTitle||o==="header")&&(typeof a=="string"||typeof a=="number"?l=a.toString():t.exports.isValidElement(a)&&typeof a.props.children=="string"&&(l=a.props.children)),l};function Gn(e,n){var r,o,a,l=e.prefixCls,c=e.className,i=e.record,s=e.index,d=e.renderIndex,f=e.dataIndex,u=e.render,p=e.children,x=e.component,v=x===void 0?"td":x,S=e.colSpan,y=e.rowSpan,T=e.fixLeft,E=e.fixRight,W=e.firstFixLeft,b=e.lastFixLeft,F=e.firstFixRight,B=e.lastFixRight,z=e.appendNode,I=e.additionalProps,$=I===void 0?{}:I,D=e.ellipsis,H=e.align,k=e.rowType,M=e.isSticky,g=e.hovering,O=e.onHover,R="".concat(l,"-cell"),w=t.exports.useContext(Xt),C=t.exports.useContext(Vt),j=t.exports.useContext(Xe),q=j.allColumnsFixedLeft,me=t.exports.useMemo(function(){if(rt(p))return[p];var P=Dt(i,f),Z=P,_=void 0;if(u){var Re=u(P,i,d);jn(Re)?(Z=Re.children,_=Re.props,w.renderWithProps=!0):Z=Re}return[Z,_]},[w.renderWithProps?Math.random():0,p,f,w,i,u,d]),Y=V(me,2),fe=Y[0],G=Y[1],ee=fe;Ve(ee)==="object"&&!Array.isArray(ee)&&!t.exports.isValidElement(ee)&&(ee=null),D&&(b||F)&&(ee=t.exports.createElement("span",{className:"".concat(R,"-content")},ee));var J=G||{},pe=J.colSpan,Ce=J.rowSpan,we=J.style,Ee=J.className,Ne=ge(J,Un),U=(r=pe!==void 0?pe:S)!==null&&r!==void 0?r:1,K=(o=Ce!==void 0?Ce:y)!==null&&o!==void 0?o:1;if(U===0||K===0)return null;var X={},re=typeof T=="number"&&C,oe=typeof E=="number"&&C;re&&(X.position="sticky",X.left=T),oe&&(X.position="sticky",X.right=E);var Q={};H&&(Q.textAlign=H);var Me=function(Z){var _;i&&O(s,s+K-1),$==null||(_=$.onMouseEnter)===null||_===void 0||_.call($,Z)},ye=function(Z){var _;i&&O(-1,-1),$==null||(_=$.onMouseLeave)===null||_===void 0||_.call($,Z)},he=Yn({rowType:k,ellipsis:D,children:fe}),be=m(m(m({title:he},Ne),$),{},{colSpan:U!==1?U:null,rowSpan:K!==1?K:null,className:ce(R,c,(a={},L(a,"".concat(R,"-fix-left"),re&&C),L(a,"".concat(R,"-fix-left-first"),W&&C),L(a,"".concat(R,"-fix-left-last"),b&&C),L(a,"".concat(R,"-fix-left-all"),b&&q&&C),L(a,"".concat(R,"-fix-right"),oe&&C),L(a,"".concat(R,"-fix-right-first"),F&&C),L(a,"".concat(R,"-fix-right-last"),B&&C),L(a,"".concat(R,"-ellipsis"),D),L(a,"".concat(R,"-with-append"),z),L(a,"".concat(R,"-fix-sticky"),(re||oe)&&M&&C),L(a,"".concat(R,"-row-hover"),!G&&g),a),$.className,Ee),style:m(m(m(m({},$.style),Q),X),we),onMouseEnter:Me,onMouseLeave:ye,ref:_n(v)?n:null});return t.exports.createElement(v,be,z,ee)}var jt=t.exports.forwardRef(Gn);jt.displayName="Cell";var qn=["expanded","className","hovering"],Jn=t.exports.memo(jt,function(e,n){return n.shouldCellUpdate?qn.every(function(r){return e[r]===n[r]})&&!n.shouldCellUpdate(n.record,e.record):lt(e,n)}),$e=t.exports.forwardRef(function(e,n){var r=e.index,o=e.additionalProps,a=o===void 0?{}:o,l=e.colSpan,c=e.rowSpan,i=a.colSpan,s=a.rowSpan,d=l!=null?l:i,f=c!=null?c:s,u=Vn(Ut,function(v){var S=Xn(r,f||1,v==null?void 0:v.startRow,v==null?void 0:v.endRow);return{onHover:v==null?void 0:v.onHover,hovering:S}}),p=u.onHover,x=u.hovering;return t.exports.createElement(Jn,ie({},e,{colSpan:d,rowSpan:f,hovering:x,ref:n,onHover:p}))});$e.displayName="WrappedCell";var ue=t.exports.createContext(null);function it(e,n,r,o,a){var l=r[e]||{},c=r[n]||{},i,s;l.fixed==="left"?i=o.left[e]:c.fixed==="right"&&(s=o.right[n]);var d=!1,f=!1,u=!1,p=!1,x=r[n+1],v=r[e-1];if(a==="rtl"){if(i!==void 0){var S=v&&v.fixed==="left";p=!S}else if(s!==void 0){var y=x&&x.fixed==="right";u=!y}}else if(i!==void 0){var T=x&&x.fixed==="left";d=!T}else if(s!==void 0){var E=v&&v.fixed==="right";f=!E}return{fixLeft:i,fixRight:s,lastFixLeft:d,firstFixRight:f,lastFixRight:u,firstFixLeft:p,isSticky:o.isSticky}}function _t(e){var n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,l=e.cellComponent,c=e.onHeaderRow,i=e.index,s=t.exports.useContext(ue),d=s.prefixCls,f=s.direction,u;c&&(u=c(n.map(function(x){return x.column}),i));var p=Ue(n.map(function(x){return x.column}));return t.exports.createElement(a,u,n.map(function(x,v){var S=x.column,y=it(x.colStart,x.colEnd,o,r,f),T;return S&&S.onHeaderCell&&(T=x.column.onHeaderCell(S)),t.exports.createElement($e,ie({},x,{ellipsis:S.ellipsis,align:S.align,component:l,prefixCls:d,key:p[v]},y,{additionalProps:T,rowType:"header"}))}))}_t.displayName="HeaderRow";function Qn(e){var n=[];function r(c,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;n[s]=n[s]||[];var d=i,f=c.filter(Boolean).map(function(u){var p={key:u.key,className:u.className||"",children:u.title,column:u,colStart:d},x=1,v=u.children;return v&&v.length>0&&(x=r(v,d,s+1).reduce(function(S,y){return S+y},0),p.hasSubColumns=!0),"colSpan"in u&&(x=u.colSpan),"rowSpan"in u&&(p.rowSpan=u.rowSpan),p.colSpan=x,p.colEnd=p.colStart+x-1,n[s].push(p),d+=x,x});return f}r(e,0);for(var o=n.length,a=function(i){n[i].forEach(function(s){!("rowSpan"in s)&&!s.hasSubColumns&&(s.rowSpan=o-i)})},l=0;l<o;l+=1)a(l);return n}function Ft(e){var n=e.stickyOffsets,r=e.columns,o=e.flattenColumns,a=e.onHeaderRow,l=t.exports.useContext(ue),c=l.prefixCls,i=l.getComponent,s=t.exports.useMemo(function(){return Qn(r)},[r]),d=i(["header","wrapper"],"thead"),f=i(["header","row"],"tr"),u=i(["header","cell"],"th");return t.exports.createElement(d,{className:"".concat(c,"-thead")},s.map(function(p,x){var v=t.exports.createElement(_t,{key:x,flattenColumns:o,cells:p,stickyOffsets:n,rowComponent:f,cellComponent:u,onHeaderRow:a,index:x});return v}))}var Yt=t.exports.createContext(null);function Gt(e){var n=e.prefixCls,r=e.children,o=e.component,a=e.cellComponent,l=e.className,c=e.expanded,i=e.colSpan,s=e.isEmpty,d=t.exports.useContext(ue),f=d.scrollbarSize,u=t.exports.useContext(Yt),p=u.fixHeader,x=u.fixColumn,v=u.componentWidth,S=u.horizonScroll;return t.exports.useMemo(function(){var y=r;return(s?S:x)&&(y=t.exports.createElement("div",{style:{width:v-(p?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},v!==0&&y)),t.exports.createElement(o,{className:l,style:{display:c?null:"none"}},t.exports.createElement($e,{component:a,prefixCls:n,colSpan:i},y))},[r,o,l,c,i,s,f,v,x,p,S])}var qt=t.exports.createContext(null);function Jt(e){var n=e.className,r=e.style,o=e.record,a=e.index,l=e.renderIndex,c=e.rowKey,i=e.rowExpandable,s=e.expandedKeys,d=e.onRow,f=e.indent,u=f===void 0?0:f,p=e.rowComponent,x=e.cellComponent,v=e.childrenColumnName,S=t.exports.useContext(ue),y=S.prefixCls,T=S.fixedInfoList,E=t.exports.useContext(Xe),W=E.flattenColumns,b=E.expandableType,F=E.expandRowByClick,B=E.onTriggerExpand,z=E.rowClassName,I=E.expandedRowClassName,$=E.indentSize,D=E.expandIcon,H=E.expandedRowRender,k=E.expandIconColumnIndex,M=t.exports.useState(!1),g=V(M,2),O=g[0],R=g[1],w=s&&s.has(e.recordKey);t.exports.useEffect(function(){w&&R(!0)},[w]);var C=b==="row"&&(!i||i(o)),j=b==="nest",q=v&&o&&o[v],me=C||j,Y=t.exports.useRef(B);Y.current=B;var fe=function(){Y.current.apply(Y,arguments)},G=d==null?void 0:d(o,a),ee=function(K){var X;F&&me&&fe(o,K);for(var re=arguments.length,oe=new Array(re>1?re-1:0),Q=1;Q<re;Q++)oe[Q-1]=arguments[Q];G==null||(X=G.onClick)===null||X===void 0||X.call.apply(X,[G,K].concat(oe))},J;typeof z=="string"?J=z:typeof z=="function"&&(J=z(o,a,u));var pe=Ue(W),Ce=t.exports.createElement(p,ie({},G,{"data-row-key":c,className:ce(n,"".concat(y,"-row"),"".concat(y,"-row-level-").concat(u),J,G&&G.className),style:m(m({},r),G?G.style:null),onClick:ee}),W.map(function(U,K){var X=U.render,re=U.dataIndex,oe=U.className,Q=pe[K],Me=T[K],ye;K===(k||0)&&j&&(ye=t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{style:{paddingLeft:"".concat($*u,"px")},className:"".concat(y,"-row-indent indent-level-").concat(u)}),D({prefixCls:y,expanded:w,expandable:q,record:o,onExpand:fe})));var he;return U.onCell&&(he=U.onCell(o,a)),t.exports.createElement($e,ie({className:oe,ellipsis:U.ellipsis,align:U.align,component:x,prefixCls:y,key:Q,record:o,index:a,renderIndex:l,dataIndex:re,render:X,shouldCellUpdate:U.shouldCellUpdate,expanded:ye&&w},Me,{appendNode:ye,additionalProps:he}))})),we;if(C&&(O||w)){var Ee=H(o,a,u+1,w),Ne=I&&I(o,a,u);we=t.exports.createElement(Gt,{expanded:w,className:ce("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(u+1),Ne),prefixCls:y,component:p,cellComponent:x,colSpan:W.length,isEmpty:!1},Ee)}return t.exports.createElement(t.exports.Fragment,null,Ce,we)}Jt.displayName="BodyRow";function Qt(e,n,r,o,a,l){var c=[];c.push({record:e,indent:n,index:l});var i=a(e),s=o==null?void 0:o.has(i);if(e&&Array.isArray(e[r])&&s)for(var d=0;d<e[r].length;d+=1){var f=Qt(e[r][d],n+1,r,o,a,d);c.push.apply(c,ne(f))}return c}function Zn(e,n,r,o){var a=t.exports.useMemo(function(){if(r!=null&&r.size){for(var l=[],c=0;c<(e==null?void 0:e.length);c+=1){var i=e[c];l.push.apply(l,ne(Qt(i,0,n,r,o,c)))}return l}return e==null?void 0:e.map(function(s,d){return{record:s,indent:0,index:d}})},[e,n,r,o]);return a}function er(e){var n=e.columnKey,r=e.onColumnResize,o=t.exports.useRef();return t.exports.useEffect(function(){o.current&&r(n,o.current.offsetWidth)},[]),t.exports.createElement(st,{data:n},t.exports.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},t.exports.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function tr(e){var n=e.prefixCls,r=e.columnsKey,o=e.onColumnResize;return t.exports.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},t.exports.createElement(st.Collection,{onBatchResize:function(l){l.forEach(function(c){var i=c.data,s=c.size;o(i,s.offsetWidth)})}},r.map(function(a){return t.exports.createElement(er,{key:a,columnKey:a,onColumnResize:o})})))}function nr(e){var n=e.data,r=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,l=e.onRow,c=e.rowExpandable,i=e.emptyNode,s=e.childrenColumnName,d=t.exports.useContext(qt),f=d.onColumnResize,u=t.exports.useContext(ue),p=u.prefixCls,x=u.getComponent,v=t.exports.useContext(Xe),S=v.flattenColumns,y=Zn(n,s,a,r),T=t.exports.useRef({renderWithProps:!1}),E=t.exports.useState(-1),W=V(E,2),b=W[0],F=W[1],B=t.exports.useState(-1),z=V(B,2),I=z[0],$=z[1],D=t.exports.useCallback(function(k,M){F(k),$(M)},[]),H=t.exports.useMemo(function(){var k=x(["body","wrapper"],"tbody"),M=x(["body","row"],"tr"),g=x(["body","cell"],"td"),O;n.length?O=y.map(function(w,C){var j=w.record,q=w.indent,me=w.index,Y=r(j,C);return t.exports.createElement(Jt,{key:Y,rowKey:Y,record:j,recordKey:Y,index:C,renderIndex:me,rowComponent:M,cellComponent:g,expandedKeys:a,onRow:l,getRowKey:r,rowExpandable:c,childrenColumnName:s,indent:q})}):O=t.exports.createElement(Gt,{expanded:!0,className:"".concat(p,"-placeholder"),prefixCls:p,component:M,cellComponent:g,colSpan:S.length,isEmpty:!0},i);var R=Ue(S);return t.exports.createElement(k,{className:"".concat(p,"-tbody")},o&&t.exports.createElement(tr,{prefixCls:p,columnsKey:R,onColumnResize:f}),O)},[n,p,l,o,a,r,x,i,S,s,f,c,y]);return t.exports.createElement(Xt.Provider,{value:T.current},t.exports.createElement(Ut.Provider,{value:{startRow:b,endRow:I,onHover:D}},H))}var Zt=t.exports.memo(nr);Zt.displayName="Body";var rr=["expandable"],en="RC_TABLE_INTERNAL_COL_DEFINE";function or(e){var n=e.expandable,r=ge(e,rr),o;return"expandable"in e?o=m(m({},r),n):o=r,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var Se={},ar=["children"],lr=["fixed"];function tn(e){return Hn(e).filter(function(n){return t.exports.isValidElement(n)}).map(function(n){var r=n.key,o=n.props,a=o.children,l=ge(o,ar),c=m({key:r},l);return a&&(c.children=tn(a)),c})}function ot(e){return e.reduce(function(n,r){var o=r.fixed,a=o===!0?"left":o,l=r.children;return l&&l.length>0?[].concat(ne(n),ne(ot(l).map(function(c){return m({fixed:a},c)}))):[].concat(ne(n),[m(m({},r),{},{fixed:a})])},[])}function sr(e){return e.map(function(n){var r=n.fixed,o=ge(n,lr),a=r;return r==="left"?a="right":r==="right"&&(a="left"),m({fixed:a},o)})}function ir(e,n){var r=e.prefixCls,o=e.columns,a=e.children,l=e.expandable,c=e.expandedKeys,i=e.getRowKey,s=e.onTriggerExpand,d=e.expandIcon,f=e.rowExpandable,u=e.expandIconColumnIndex,p=e.direction,x=e.expandRowByClick,v=e.columnWidth,S=e.fixed,y=t.exports.useMemo(function(){return o||tn(a)},[o,a]),T=t.exports.useMemo(function(){if(l){var b,F=y.slice();if(!F.includes(Se)){var B=u||0;B>=0&&F.splice(B,0,Se)}var z=F.indexOf(Se);F=F.filter(function(H,k){return H!==Se||k===z});var I=y[z],$;(S==="left"||S)&&!u?$="left":(S==="right"||S)&&u===y.length?$="right":$=I?I.fixed:null;var D=(b={},L(b,en,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),L(b,"title",""),L(b,"fixed",$),L(b,"className","".concat(r,"-row-expand-icon-cell")),L(b,"width",v),L(b,"render",function(k,M,g){var O=i(M,g),R=c.has(O),w=f?f(M):!0,C=d({prefixCls:r,expanded:R,expandable:w,record:M,onExpand:s});return x?t.exports.createElement("span",{onClick:function(q){return q.stopPropagation()}},C):C}),b);return F.map(function(H){return H===Se?D:H})}return y.filter(function(H){return H!==Se})},[l,y,i,c,d,p]),E=t.exports.useMemo(function(){var b=T;return n&&(b=n(b)),b.length||(b=[{render:function(){return null}}]),b},[n,T,p]),W=t.exports.useMemo(function(){return p==="rtl"?sr(ot(E)):ot(E)},[E,p]);return[E,W]}function nn(e){var n=t.exports.useRef(e),r=t.exports.useState({}),o=V(r,2),a=o[1],l=t.exports.useRef(null),c=t.exports.useRef([]);function i(s){c.current.push(s);var d=Promise.resolve();l.current=d,d.then(function(){if(l.current===d){var f=c.current,u=n.current;c.current=[],f.forEach(function(p){n.current=p(n.current)}),l.current=null,u!==n.current&&a({})}})}return t.exports.useEffect(function(){return function(){l.current=null}},[]),[n.current,i]}function cr(e){var n=t.exports.useRef(e||null),r=t.exports.useRef();function o(){window.clearTimeout(r.current)}function a(c){n.current=c,o(),r.current=window.setTimeout(function(){n.current=null,r.current=void 0},100)}function l(){return n.current}return t.exports.useEffect(function(){return o},[]),[a,l]}function ur(e,n,r){var o=t.exports.useMemo(function(){for(var a=[],l=[],c=0,i=0,s=0;s<n;s+=1)if(r==="rtl"){l[s]=i,i+=e[s]||0;var d=n-s-1;a[d]=c,c+=e[d]||0}else{a[s]=c,c+=e[s]||0;var f=n-s-1;l[f]=i,i+=e[f]||0}return{left:a,right:l}},[e,n,r]);return o}var dr=["columnType"];function rn(e){for(var n=e.colWidths,r=e.columns,o=e.columCount,a=[],l=o||r.length,c=!1,i=l-1;i>=0;i-=1){var s=n[i],d=r&&r[i],f=d&&d[en];if(s||f||c){var u=f||{};u.columnType;var p=ge(u,dr);a.unshift(t.exports.createElement("col",ie({key:i,style:{width:s}},p))),c=!0}}return t.exports.createElement("colgroup",null,a)}function zt(e){var n=e.className,r=e.children;return t.exports.createElement("div",{className:n},r)}var on=t.exports.createContext({});function fr(e){var n=e.className,r=e.index,o=e.children,a=e.colSpan,l=a===void 0?1:a,c=e.rowSpan,i=e.align,s=t.exports.useContext(ue),d=s.prefixCls,f=s.direction,u=t.exports.useContext(on),p=u.scrollColumnIndex,x=u.stickyOffsets,v=u.flattenColumns,S=r+l-1,y=S+1===p?l+1:l,T=it(r,r+y-1,v,x,f);return t.exports.createElement($e,ie({className:n,index:r,component:"td",prefixCls:d,record:null,dataIndex:null,align:i,colSpan:y,rowSpan:c,render:function(){return o}},T))}var pr=["children"];function xr(e){var n=e.children,r=ge(e,pr);return t.exports.createElement("tr",r,n)}function je(e){var n=e.children;return n}je.Row=xr;je.Cell=fr;function De(e){var n=e.children,r=e.stickyOffsets,o=e.flattenColumns,a=t.exports.useContext(ue),l=a.prefixCls,c=o.length-1,i=o[c],s=t.exports.useMemo(function(){return{stickyOffsets:r,flattenColumns:o,scrollColumnIndex:i!=null&&i.scrollbar?c:null}},[i,o,c,r]);return t.exports.createElement(on.Provider,{value:s},t.exports.createElement("tfoot",{className:"".concat(l,"-summary")},n))}var vr=je;function mr(e){var n,r=e.prefixCls,o=e.record,a=e.onExpand,l=e.expanded,c=e.expandable,i="".concat(r,"-row-expand-icon");if(!c)return t.exports.createElement("span",{className:ce(i,"".concat(r,"-row-spaced"))});var s=function(f){a(o,f),f.stopPropagation()};return t.exports.createElement("span",{className:ce(i,(n={},L(n,"".concat(r,"-row-expanded"),l),L(n,"".concat(r,"-row-collapsed"),!l),n)),onClick:s})}function Cr(e,n,r){var o=[];function a(l){(l||[]).forEach(function(c,i){o.push(n(c,i)),a(c[r])})}return a(e),o}var yr=function(n,r){var o,a,l=n.scrollBodyRef,c=n.onScroll,i=n.offsetScroll,s=n.container,d=t.exports.useContext(ue),f=d.prefixCls,u=((o=l.current)===null||o===void 0?void 0:o.scrollWidth)||0,p=((a=l.current)===null||a===void 0?void 0:a.clientWidth)||0,x=u&&p*(p/u),v=t.exports.useRef(),S=nn({scrollLeft:0,isHiddenScrollBar:!1}),y=V(S,2),T=y[0],E=y[1],W=t.exports.useRef({delta:0,x:0}),b=t.exports.useState(!1),F=V(b,2),B=F[0],z=F[1],I=function(){z(!1)},$=function(g){g.persist(),W.current.delta=g.pageX-T.scrollLeft,W.current.x=0,z(!0),g.preventDefault()},D=function(g){var O,R=g||((O=window)===null||O===void 0?void 0:O.event),w=R.buttons;if(!B||w===0){B&&z(!1);return}var C=W.current.x+g.pageX-W.current.x-W.current.delta;C<=0&&(C=0),C+x>=p&&(C=p-x),c({scrollLeft:C/p*(u+2)}),W.current.x=g.pageX},H=function(){if(!!l.current){var g=Pt(l.current).top,O=g+l.current.offsetHeight,R=s===window?document.documentElement.scrollTop+window.innerHeight:Pt(s).top+s.clientHeight;O-Ht()<=R||g>=R-i?E(function(w){return m(m({},w),{},{isHiddenScrollBar:!0})}):E(function(w){return m(m({},w),{},{isHiddenScrollBar:!1})})}},k=function(g){E(function(O){return m(m({},O),{},{scrollLeft:g/u*p||0})})};return t.exports.useImperativeHandle(r,function(){return{setScrollLeft:k}}),t.exports.useEffect(function(){var M=Ae(document.body,"mouseup",I,!1),g=Ae(document.body,"mousemove",D,!1);return H(),function(){M.remove(),g.remove()}},[x,B]),t.exports.useEffect(function(){var M=Ae(s,"scroll",H,!1),g=Ae(window,"resize",H,!1);return function(){M.remove(),g.remove()}},[s]),t.exports.useEffect(function(){T.isHiddenScrollBar||E(function(M){var g=l.current;return g?m(m({},M),{},{scrollLeft:g.scrollLeft/g.scrollWidth*g.clientWidth}):M})},[T.isHiddenScrollBar]),u<=p||!x||T.isHiddenScrollBar?null:t.exports.createElement("div",{style:{height:Ht(),width:p,bottom:i},className:"".concat(f,"-sticky-scroll")},t.exports.createElement("div",{onMouseDown:$,ref:v,className:ce("".concat(f,"-sticky-scroll-bar"),L({},"".concat(f,"-sticky-scroll-bar-active"),B)),style:{width:"".concat(x,"px"),transform:"translate3d(".concat(T.scrollLeft,"px, 0, 0)")}}))},hr=t.exports.forwardRef(yr),Wt=Pn()?window:null;function Rr(e,n){var r=Ve(e)==="object"?e:{},o=r.offsetHeader,a=o===void 0?0:o,l=r.offsetSummary,c=l===void 0?0:l,i=r.offsetScroll,s=i===void 0?0:i,d=r.getContainer,f=d===void 0?function(){return Wt}:d,u=f()||Wt;return t.exports.useMemo(function(){var p=!!e;return{isSticky:p,stickyClassName:p?"".concat(n,"-sticky-holder"):"",offsetHeader:a,offsetSummary:c,offsetScroll:s,container:u}},[s,a,c,n,u])}var Sr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function gr(e,n){return t.exports.useMemo(function(){for(var r=[],o=0;o<n;o+=1){var a=e[o];if(a!==void 0)r[o]=a;else return null}return r},[e.join("_"),n])}var at=t.exports.forwardRef(function(e,n){var r=e.className,o=e.noData,a=e.columns,l=e.flattenColumns,c=e.colWidths,i=e.columCount,s=e.stickyOffsets,d=e.direction,f=e.fixHeader,u=e.stickyTopOffset,p=e.stickyBottomOffset,x=e.stickyClassName,v=e.onScroll,S=e.maxContentScroll,y=e.children,T=ge(e,Sr),E=t.exports.useContext(ue),W=E.prefixCls,b=E.scrollbarSize,F=E.isSticky,B=F&&!f?0:b,z=t.exports.useRef(null),I=t.exports.useCallback(function(R){Bt(n,R),Bt(z,R)},[]);t.exports.useEffect(function(){var R;function w(C){var j=C.currentTarget,q=C.deltaX;q&&(v({currentTarget:j,scrollLeft:j.scrollLeft+q}),C.preventDefault())}return(R=z.current)===null||R===void 0||R.addEventListener("wheel",w),function(){var C;(C=z.current)===null||C===void 0||C.removeEventListener("wheel",w)}},[]);var $=t.exports.useMemo(function(){return l.every(function(R){return R.width>=0})},[l]),D=l[l.length-1],H={fixed:D?D.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(W,"-cell-scrollbar")}}},k=t.exports.useMemo(function(){return B?[].concat(ne(a),[H]):a},[B,a]),M=t.exports.useMemo(function(){return B?[].concat(ne(l),[H]):l},[B,l]),g=t.exports.useMemo(function(){var R=s.right,w=s.left;return m(m({},s),{},{left:d==="rtl"?[].concat(ne(w.map(function(C){return C+B})),[0]):w,right:d==="rtl"?R:[].concat(ne(R.map(function(C){return C+B})),[0]),isSticky:F})},[B,s,F]),O=gr(c,i);return t.exports.createElement("div",{style:m({overflow:"hidden"},F?{top:u,bottom:p}:{}),ref:I,className:ce(r,L({},x,!!x))},t.exports.createElement("table",{style:{tableLayout:"fixed",visibility:o||O?null:"hidden"}},(!o||!S||$)&&t.exports.createElement(rn,{colWidths:O?[].concat(ne(O),[B]):[],columCount:i+1,columns:M}),y(m(m({},T),{},{stickyOffsets:g,columns:k,flattenColumns:M}))))});at.displayName="FixedHolder";var wr=[],Er={},nt="rc-table-internal-hook",Nr=t.exports.memo(function(e){var n=e.children;return n},function(e,n){return lt(e.props,n.props)?e.pingLeft!==n.pingLeft||e.pingRight!==n.pingRight:!1});function He(e){var n,r=e.prefixCls,o=e.className,a=e.rowClassName,l=e.style,c=e.data,i=e.rowKey,s=e.scroll,d=e.tableLayout,f=e.direction,u=e.title,p=e.footer,x=e.summary,v=e.id,S=e.showHeader,y=e.components,T=e.emptyText,E=e.onRow,W=e.onHeaderRow,b=e.internalHooks,F=e.transformColumns,B=e.internalRefs,z=e.sticky,I=c||wr,$=!!I.length,D=t.exports.useCallback(function(h,N){return Dt(y||{},h)||N},[y]),H=t.exports.useMemo(function(){return typeof i=="function"?i:function(h){var N=h&&h[i];return N}},[i]),k=or(e),M=k.expandIcon,g=k.expandedRowKeys,O=k.defaultExpandedRowKeys,R=k.defaultExpandAllRows,w=k.expandedRowRender,C=k.onExpand,j=k.onExpandedRowsChange,q=k.expandRowByClick,me=k.rowExpandable,Y=k.expandIconColumnIndex,fe=k.expandedRowClassName,G=k.childrenColumnName,ee=k.indentSize,J=M||mr,pe=G||"children",Ce=t.exports.useMemo(function(){return w?"row":e.expandable&&b===nt&&e.expandable.__PARENT_RENDER_ICON__||I.some(function(h){return h&&Ve(h)==="object"&&h[pe]})?"nest":!1},[!!w,I]),we=t.exports.useState(function(){return O||(R?Cr(I,H,pe):[])}),Ee=V(we,2),Ne=Ee[0],U=Ee[1],K=t.exports.useMemo(function(){return new Set(g||Ne||[])},[g,Ne]),X=t.exports.useCallback(function(h){var N=H(h,I.indexOf(h)),A,te=K.has(N);te?(K.delete(N),A=ne(K)):A=[].concat(ne(K),[N]),U(A),C&&C(!te,h),j&&j(A)},[H,K,I,C,j]),re=t.exports.useState(0),oe=V(re,2),Q=oe[0],Me=oe[1],ye=ir(m(m(m({},e),k),{},{expandable:!!w,expandedKeys:K,getRowKey:H,onTriggerExpand:X,expandIcon:J,expandIconColumnIndex:Y,direction:f}),b===nt?F:null),he=V(ye,2),be=he[0],P=he[1],Z=t.exports.useMemo(function(){return{columns:be,flattenColumns:P}},[be,P]),_=t.exports.useRef(),Re=t.exports.useRef(),le=t.exports.useRef(),ct=t.exports.useRef(),ut=t.exports.useRef(),an=t.exports.useState(!1),dt=V(an,2),ft=dt[0],Pe=dt[1],ln=t.exports.useState(!1),pt=V(ln,2),xt=pt[0],Be=pt[1],sn=nn(new Map),vt=V(sn,2),cn=vt[0],un=vt[1],dn=Ue(P),mt=dn.map(function(h){return cn.get(h)}),Ct=t.exports.useMemo(function(){return mt},[mt.join("_")]),ke=ur(Ct,P.length,f),ae=s&&rt(s.y),se=s&&rt(s.x)||Boolean(k.fixed),Ie=se&&P.some(function(h){var N=h.fixed;return N}),yt=t.exports.useRef(),Le=Rr(z,r),xe=Le.isSticky,fn=Le.offsetHeader,pn=Le.offsetSummary,xn=Le.offsetScroll,vn=Le.stickyClassName,mn=Le.container,de=x==null?void 0:x(I),Oe=(ae||xe)&&t.exports.isValidElement(de)&&de.type===je&&de.props.fixed,_e,Fe,Ye;ae&&(Fe={overflowY:"scroll",maxHeight:s.y}),se&&(_e={overflowX:"auto"},ae||(Fe={overflowY:"hidden"}),Ye={width:(s==null?void 0:s.x)===!0?"auto":s==null?void 0:s.x,minWidth:"100%"});var ht=t.exports.useCallback(function(h,N){Bn(_.current)&&un(function(A){if(A.get(h)!==N){var te=new Map(A);return te.set(h,N),te}return A})},[]),Cn=cr(null),Rt=V(Cn,2),yn=Rt[0],St=Rt[1];function ze(h,N){!N||(typeof N=="function"?N(h):N.scrollLeft!==h&&(N.scrollLeft=h))}var Te=function(N){var A=N.currentTarget,te=N.scrollLeft,Mn=f==="rtl",ve=typeof te=="number"?te:A.scrollLeft,$t=A||Er;if(!St()||St()===$t){var Ze;yn($t),ze(ve,Re.current),ze(ve,le.current),ze(ve,ut.current),ze(ve,(Ze=yt.current)===null||Ze===void 0?void 0:Ze.setScrollLeft)}if(A){var et=A.scrollWidth,tt=A.clientWidth;if(et===tt){Pe(!1),Be(!1);return}Mn?(Pe(-ve<et-tt),Be(-ve>0)):(Pe(ve>0),Be(ve<et-tt))}},gt=function(){se&&le.current?Te({currentTarget:le.current}):(Pe(!1),Be(!1))},hn=function(N){var A=N.width;A!==Q&&(gt(),Me(_.current?_.current.offsetWidth:A))},wt=t.exports.useRef(!1);t.exports.useEffect(function(){wt.current&&gt()},[se,c,be.length]),t.exports.useEffect(function(){wt.current=!0},[]);var Rn=t.exports.useState(0),Et=V(Rn,2),We=Et[0],Nt=Et[1],Sn=t.exports.useState(!0),bt=V(Sn,2),gn=bt[0],wn=bt[1];t.exports.useEffect(function(){le.current instanceof Element?Nt(Ot(le.current).width):Nt(Ot(ct.current).width),wn(On("position","sticky"))},[]),t.exports.useEffect(function(){b===nt&&B&&(B.body.current=le.current)});var kt=D(["table"],"table"),Ke=t.exports.useMemo(function(){return d||(Ie?(s==null?void 0:s.x)==="max-content"?"auto":"fixed":ae||xe||P.some(function(h){var N=h.ellipsis;return N})?"fixed":"auto")},[ae,Ie,P,d,xe]),Ge,qe={colWidths:Ct,columCount:P.length,stickyOffsets:ke,onHeaderRow:W,fixHeader:ae,scroll:s},En=t.exports.useMemo(function(){return $?null:typeof T=="function"?T():T},[$,T]),Lt=t.exports.createElement(Zt,{data:I,measureColumnWidth:ae||se||xe,expandedKeys:K,rowExpandable:me,getRowKey:H,onRow:E,emptyNode:En,childrenColumnName:pe}),Tt=t.exports.createElement(rn,{colWidths:P.map(function(h){var N=h.width;return N}),columns:P}),Mt=D(["body"]);if(ae||xe){var Je;typeof Mt=="function"?(Je=Mt(I,{scrollbarSize:We,ref:le,onScroll:Te}),qe.colWidths=P.map(function(h,N){var A=h.width,te=N===be.length-1?A-We:A;return typeof te=="number"&&!Number.isNaN(te)?te:(Fn(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Je=t.exports.createElement("div",{style:m(m({},_e),Fe),onScroll:Te,ref:le,className:ce("".concat(r,"-body"))},t.exports.createElement(kt,{style:m(m({},Ye),{},{tableLayout:Ke})},Tt,Lt,!Oe&&de&&t.exports.createElement(De,{stickyOffsets:ke,flattenColumns:P},de)));var It=m(m(m({noData:!I.length,maxContentScroll:se&&s.x==="max-content"},qe),Z),{},{direction:f,stickyClassName:vn,onScroll:Te});Ge=t.exports.createElement(t.exports.Fragment,null,S!==!1&&t.exports.createElement(at,ie({},It,{stickyTopOffset:fn,className:"".concat(r,"-header"),ref:Re}),function(h){return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement(Ft,h),Oe==="top"&&t.exports.createElement(De,h,de))}),Je,Oe&&Oe!=="top"&&t.exports.createElement(at,ie({},It,{stickyBottomOffset:pn,className:"".concat(r,"-summary"),ref:ut}),function(h){return t.exports.createElement(De,h,de)}),xe&&t.exports.createElement(hr,{ref:yt,offsetScroll:xn,scrollBodyRef:le,onScroll:Te,container:mn}))}else Ge=t.exports.createElement("div",{style:m(m({},_e),Fe),className:ce("".concat(r,"-content")),onScroll:Te,ref:le},t.exports.createElement(kt,{style:m(m({},Ye),{},{tableLayout:Ke})},Tt,S!==!1&&t.exports.createElement(Ft,ie({},qe,Z)),Lt,de&&t.exports.createElement(De,{stickyOffsets:ke,flattenColumns:P},de)));var Nn=zn(e,{aria:!0,data:!0}),Qe=t.exports.createElement("div",ie({className:ce(r,o,(n={},L(n,"".concat(r,"-rtl"),f==="rtl"),L(n,"".concat(r,"-ping-left"),ft),L(n,"".concat(r,"-ping-right"),xt),L(n,"".concat(r,"-layout-fixed"),d==="fixed"),L(n,"".concat(r,"-fixed-header"),ae),L(n,"".concat(r,"-fixed-column"),Ie),L(n,"".concat(r,"-scroll-horizontal"),se),L(n,"".concat(r,"-has-fix-left"),P[0]&&P[0].fixed),L(n,"".concat(r,"-has-fix-right"),P[P.length-1]&&P[P.length-1].fixed==="right"),n)),style:l,id:v,ref:_},Nn),t.exports.createElement(Nr,{pingLeft:ft,pingRight:xt,props:m(m({},e),{},{stickyOffsets:ke,mergedExpandedKeys:K})},u&&t.exports.createElement(zt,{className:"".concat(r,"-title")},u(I)),t.exports.createElement("div",{ref:ct,className:"".concat(r,"-container")},Ge),p&&t.exports.createElement(zt,{className:"".concat(r,"-footer")},p(I))));se&&(Qe=t.exports.createElement(st,{onResize:hn},Qe));var bn=t.exports.useMemo(function(){return{prefixCls:r,getComponent:D,scrollbarSize:We,direction:f,fixedInfoList:P.map(function(h,N){return it(N,N,P,ke,f)}),isSticky:xe}},[r,D,We,f,P,ke,xe]),kn=t.exports.useMemo(function(){return m(m({},Z),{},{tableLayout:Ke,rowClassName:a,expandedRowClassName:fe,expandIcon:J,expandableType:Ce,expandRowByClick:q,expandedRowRender:w,onTriggerExpand:X,expandIconColumnIndex:Y,indentSize:ee,allColumnsFixedLeft:Z.flattenColumns.every(function(h){return h.fixed==="left"})})},[Z,Ke,a,fe,J,Ce,q,w,X,Y,ee]),Ln=t.exports.useMemo(function(){return{componentWidth:Q,fixHeader:ae,fixColumn:Ie,horizonScroll:se}},[Q,ae,Ie,se]),Tn=t.exports.useMemo(function(){return{onColumnResize:ht}},[ht]);return t.exports.createElement(Vt.Provider,{value:gn},t.exports.createElement(ue.Provider,{value:bn},t.exports.createElement(Xe.Provider,{value:kn},t.exports.createElement(Yt.Provider,{value:Ln},t.exports.createElement(qt.Provider,{value:Tn},Qe)))))}He.EXPAND_COLUMN=Se;He.Column=Kn;He.ColumnGroup=Wn;He.Summary=vr;He.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};export{vr as F,en as I,He as T,nt as a,tn as c};
