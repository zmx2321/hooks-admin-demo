import{c as E,d as $,a as G,j as Qe,e as Ae,_ as ut,b as Lt}from"./@babel.cf8b4fc6.js";import{r as t}from"./react.658dc38c.js";import{c as Y}from"./classnames.8d8ee7c7.js";import{d as be,K as Z,E as Bt,f as et,t as Wt}from"./rc-util.501ec4cf.js";import{R as tt}from"./rc-resize-observer.9ad134fd.js";import{E as Dt,M as Kt}from"./rc-menu.770e6d16.js";import{D as $t}from"./rc-dropdown.4ebd7cd5.js";function dt(e){var o=t.exports.useRef(),r=t.exports.useRef(!1);function i(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];r.current||(be.cancel(o.current),o.current=be(function(){e.apply(void 0,n)}))}return t.exports.useEffect(function(){return r.current=!1,function(){r.current=!0,be.cancel(o.current)}},[]),i}function Ht(e){var o=t.exports.useRef([]),r=t.exports.useState({}),i=E(r,2),a=i[1],n=t.exports.useRef(typeof e=="function"?e():e),s=dt(function(){var c=n.current;o.current.forEach(function(p){c=p(c)}),o.current=[],n.current=c,a({})});function u(c){o.current.push(c),s()}return[n.current,u]}function Ot(e,o){var r,i=e.prefixCls,a=e.id,n=e.active,s=e.tab,u=s.key,c=s.tab,p=s.disabled,b=s.closeIcon,d=e.closable,h=e.renderWrapper,B=e.removeAriaLabel,y=e.editable,S=e.onClick,W=e.onRemove,D=e.onFocus,H=e.style,P="".concat(i,"-tab");t.exports.useEffect(function(){return W},[]);var w=y&&d!==!1&&!p;function M(T){p||S(T)}function O(T){T.preventDefault(),T.stopPropagation(),y.onEdit("remove",{key:u,event:T})}var V=t.exports.createElement("div",{key:u,ref:o,className:Y(P,(r={},$(r,"".concat(P,"-with-remove"),w),$(r,"".concat(P,"-active"),n),$(r,"".concat(P,"-disabled"),p),r)),style:H,onClick:M},t.exports.createElement("div",{role:"tab","aria-selected":n,id:a&&"".concat(a,"-tab-").concat(u),className:"".concat(P,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(u),"aria-disabled":p,tabIndex:p?null:0,onClick:function(l){l.stopPropagation(),M(l)},onKeyDown:function(l){[Z.SPACE,Z.ENTER].includes(l.which)&&(l.preventDefault(),M(l))},onFocus:D},c),w&&t.exports.createElement("button",{type:"button","aria-label":B||"remove",tabIndex:0,className:"".concat(P,"-remove"),onClick:function(l){l.stopPropagation(),O(l)}},b||y.removeIcon||"\xD7"));return h?h(V):V}var Vt=t.exports.forwardRef(Ot),at={width:0,height:0,left:0,top:0};function Ft(e,o,r){return t.exports.useMemo(function(){for(var i,a=new Map,n=o.get((i=e[0])===null||i===void 0?void 0:i.key)||at,s=n.left+n.width,u=0;u<e.length;u+=1){var c=e[u].key,p=o.get(c);if(!p){var b;p=o.get((b=e[u-1])===null||b===void 0?void 0:b.key)||at}var d=a.get(c)||G({},p);d.right=s-d.left-d.width,a.set(c,d)}return a},[e.map(function(i){return i.key}).join("_"),o,r])}var nt={width:0,height:0,left:0,top:0,right:0};function _t(e,o,r,i,a){var n=a.tabs,s=a.tabPosition,u=a.rtl,c,p,b;["top","bottom"].includes(s)?(c="width",p=u?"right":"left",b=Math.abs(o.left)):(c="height",p="top",b=-o.top);var d=o[c],h=r[c],B=i[c],y=d;return h+B>d&&h<d&&(y=d-B),t.exports.useMemo(function(){if(!n.length)return[0,0];for(var S=n.length,W=S,D=0;D<S;D+=1){var H=e.get(n[D].key)||nt;if(H[p]+H[c]>b+y){W=D-1;break}}for(var P=0,w=S-1;w>=0;w-=1){var M=e.get(n[w].key)||nt;if(M[p]<b){P=w+1;break}}return[P,W]},[e,b,y,s,n.map(function(S){return S.key}).join("_"),u])}function jt(e,o){var r=e.prefixCls,i=e.editable,a=e.locale,n=e.style;return!i||i.showAdd===!1?null:t.exports.createElement("button",{ref:o,type:"button",className:"".concat(r,"-nav-add"),style:n,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:function(u){i.onEdit("add",{event:u})}},i.addIcon||"+")}var ft=t.exports.forwardRef(jt);function Gt(e,o){var r=e.prefixCls,i=e.id,a=e.tabs,n=e.locale,s=e.mobile,u=e.moreIcon,c=u===void 0?"More":u,p=e.moreTransitionName,b=e.style,d=e.className,h=e.editable,B=e.tabBarGutter,y=e.rtl,S=e.removeAriaLabel,W=e.onTabClick,D=e.getPopupContainer,H=e.popupClassName,P=t.exports.useState(!1),w=E(P,2),M=w[0],O=w[1],V=t.exports.useState(null),T=E(V,2),l=T[0],R=T[1],N="".concat(i,"-more-popup"),v="".concat(r,"-dropdown"),C=l!==null?"".concat(N,"-").concat(l):null,k=n==null?void 0:n.dropdownAriaLabel;function A(f,g){f.preventDefault(),f.stopPropagation(),h.onEdit("remove",{key:g,event:f})}var z=t.exports.createElement(Dt,{onClick:function(g){var U=g.key,F=g.domEvent;W(U,F),O(!1)},prefixCls:"".concat(v,"-menu"),id:N,tabIndex:-1,role:"listbox","aria-activedescendant":C,selectedKeys:[l],"aria-label":k!==void 0?k:"expanded dropdown"},a.map(function(f){var g=h&&f.closable!==!1&&!f.disabled;return t.exports.createElement(Kt,{key:f.key,id:"".concat(N,"-").concat(f.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(f.key),disabled:f.disabled},t.exports.createElement("span",null,f.tab),g&&t.exports.createElement("button",{type:"button","aria-label":S||"remove",tabIndex:0,className:"".concat(v,"-menu-item-remove"),onClick:function(F){F.stopPropagation(),A(F,f.key)}},f.closeIcon||h.removeIcon||"\xD7"))}));function oe(f){for(var g=a.filter(function(ae){return!ae.disabled}),U=g.findIndex(function(ae){return ae.key===l})||0,F=g.length,J=0;J<F;J+=1){U=(U+f+F)%F;var X=g[U];if(!X.disabled){R(X.key);return}}}function ee(f){var g=f.which;if(!M){[Z.DOWN,Z.SPACE,Z.ENTER].includes(g)&&(O(!0),f.preventDefault());return}switch(g){case Z.UP:oe(-1),f.preventDefault();break;case Z.DOWN:oe(1),f.preventDefault();break;case Z.ESC:O(!1);break;case Z.SPACE:case Z.ENTER:l!==null&&W(l,f);break}}t.exports.useEffect(function(){var f=document.getElementById(C);f&&f.scrollIntoView&&f.scrollIntoView(!1)},[l]),t.exports.useEffect(function(){M||R(null)},[M]);var K=$({},y?"marginRight":"marginLeft",B);a.length||(K.visibility="hidden",K.order=1);var te=Y($({},"".concat(v,"-rtl"),y)),ie=s?null:t.exports.createElement($t,{prefixCls:v,overlay:z,trigger:["hover"],visible:a.length?M:!1,transitionName:p,onVisibleChange:O,overlayClassName:Y(te,H),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:D},t.exports.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:K,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":N,id:"".concat(i,"-more"),"aria-expanded":M,onKeyDown:ee},c));return t.exports.createElement("div",{className:Y("".concat(r,"-nav-operations"),d),style:b,ref:o},ie,t.exports.createElement(ft,{prefixCls:r,locale:n,editable:h}))}var zt=t.exports.memo(t.exports.forwardRef(Gt),function(e,o){return o.tabMoving}),Le=t.exports.createContext(null),Ut=.1,rt=.01,Ee=20,ot=Math.pow(.995,Ee);function Yt(e,o){var r=t.exports.useState(),i=E(r,2),a=i[0],n=i[1],s=t.exports.useState(0),u=E(s,2),c=u[0],p=u[1],b=t.exports.useState(0),d=E(b,2),h=d[0],B=d[1],y=t.exports.useState(),S=E(y,2),W=S[0],D=S[1],H=t.exports.useRef();function P(l){var R=l.touches[0],N=R.screenX,v=R.screenY;n({x:N,y:v}),window.clearInterval(H.current)}function w(l){if(!!a){l.preventDefault();var R=l.touches[0],N=R.screenX,v=R.screenY;n({x:N,y:v});var C=N-a.x,k=v-a.y;o(C,k);var A=Date.now();p(A),B(A-c),D({x:C,y:k})}}function M(){if(!!a&&(n(null),D(null),W)){var l=W.x/h,R=W.y/h,N=Math.abs(l),v=Math.abs(R);if(Math.max(N,v)<Ut)return;var C=l,k=R;H.current=window.setInterval(function(){if(Math.abs(C)<rt&&Math.abs(k)<rt){window.clearInterval(H.current);return}C*=ot,k*=ot,o(C*Ee,k*Ee)},Ee)}}var O=t.exports.useRef();function V(l){var R=l.deltaX,N=l.deltaY,v=0,C=Math.abs(R),k=Math.abs(N);C===k?v=O.current==="x"?R:N:C>k?(v=R,O.current="x"):(v=N,O.current="y"),o(-v,-v)&&l.preventDefault()}var T=t.exports.useRef(null);T.current={onTouchStart:P,onTouchMove:w,onTouchEnd:M,onWheel:V},t.exports.useEffect(function(){function l(C){T.current.onTouchStart(C)}function R(C){T.current.onTouchMove(C)}function N(C){T.current.onTouchEnd(C)}function v(C){T.current.onWheel(C)}return document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",N,{passive:!1}),e.current.addEventListener("touchstart",l,{passive:!1}),e.current.addEventListener("wheel",v),function(){document.removeEventListener("touchmove",R),document.removeEventListener("touchend",N)}},[])}function Xt(){var e=t.exports.useRef(new Map);function o(i){return e.current.has(i)||e.current.set(i,t.exports.createRef()),e.current.get(i)}function r(i){e.current.delete(i)}return[o,r]}function it(e,o){var r=t.exports.useRef(e),i=t.exports.useState({}),a=E(i,2),n=a[1];function s(u){var c=typeof u=="function"?u(r.current):u;c!==r.current&&o(c,r.current),r.current=c,n({})}return[r.current,s]}var st=function(o){var r=o.position,i=o.prefixCls,a=o.extra;if(!a)return null;var n,s={};return a&&ut(a)==="object"&&!t.exports.isValidElement(a)?s=a:s.right=a,r==="right"&&(n=s.right),r==="left"&&(n=s.left),n?t.exports.createElement("div",{className:"".concat(i,"-extra-content")},n):null};function Zt(e,o){var r,i=t.exports.useContext(Le),a=i.prefixCls,n=i.tabs,s=e.className,u=e.style,c=e.id,p=e.animated,b=e.activeKey,d=e.rtl,h=e.extra,B=e.editable,y=e.locale,S=e.tabPosition,W=e.tabBarGutter,D=e.children,H=e.onTabClick,P=e.onTabScroll,w=t.exports.useRef(),M=t.exports.useRef(),O=t.exports.useRef(),V=t.exports.useRef(),T=Xt(),l=E(T,2),R=l[0],N=l[1],v=S==="top"||S==="bottom",C=it(0,function(x,m){v&&P&&P({direction:x>m?"left":"right"})}),k=E(C,2),A=k[0],z=k[1],oe=it(0,function(x,m){!v&&P&&P({direction:x>m?"top":"bottom"})}),ee=E(oe,2),K=ee[0],te=ee[1],ie=t.exports.useState(0),f=E(ie,2),g=f[0],U=f[1],F=t.exports.useState(0),J=E(F,2),X=J[0],ae=J[1],Ce=t.exports.useState(null),se=E(Ce,2),_=se[0],Te=se[1],ce=t.exports.useState(null),he=E(ce,2),q=he[0],le=he[1],xe=t.exports.useState(0),I=E(xe,2),ne=I[0],ue=I[1],vt=t.exports.useState(0),Be=E(vt,2),pt=Be[0],mt=Be[1],bt=Ht(new Map),We=E(bt,2),ht=We[0],xt=We[1],ge=Ft(n,ht,g),gt="".concat(a,"-nav-operations-hidden"),de=0,fe=0;v?d?(de=0,fe=Math.max(0,g-_)):(de=Math.min(0,_-g),fe=0):(de=Math.min(0,q-X),fe=0);function Re(x){return x<de?de:x>fe?fe:x}var De=t.exports.useRef(),yt=t.exports.useState(),Ke=E(yt,2),ye=Ke[0],$e=Ke[1];function ke(){$e(Date.now())}function we(){window.clearTimeout(De.current)}Yt(w,function(x,m){function L(j,re){j(function(pe){var Me=Re(pe+re);return Me})}if(v){if(_>=g)return!1;L(z,x)}else{if(q>=X)return!1;L(te,m)}return we(),ke(),!0}),t.exports.useEffect(function(){return we(),ye&&(De.current=window.setTimeout(function(){$e(0)},100)),we},[ye]);function He(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,m=ge.get(x)||{width:0,height:0,left:0,right:0,top:0};if(v){var L=A;d?m.right<A?L=m.right:m.right+m.width>A+_&&(L=m.right+m.width-_):m.left<-A?L=-m.left:m.left+m.width>-A+_&&(L=-(m.left+m.width-_)),te(0),z(Re(L))}else{var j=K;m.top<-K?j=-m.top:m.top+m.height>-K+q&&(j=-(m.top+m.height-q)),z(0),te(Re(j))}}var St=_t(ge,{width:_,height:q,left:A,top:K},{width:g,height:X},{width:ne,height:pt},G(G({},e),{},{tabs:n})),Oe=E(St,2),Et=Oe[0],Ct=Oe[1],Se={};S==="top"||S==="bottom"?Se[d?"marginRight":"marginLeft"]=W:Se.marginTop=W;var Ve=n.map(function(x,m){var L=x.key;return t.exports.createElement(Vt,{id:c,prefixCls:a,key:L,tab:x,style:m===0?void 0:Se,closable:x.closable,editable:B,active:L===b,renderWrapper:D,removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:R(L),onClick:function(re){H(L,re)},onRemove:function(){N(L)},onFocus:function(){He(L),ke(),w.current&&(d||(w.current.scrollLeft=0),w.current.scrollTop=0)}})}),Ne=dt(function(){var x,m,L,j,re,pe,Me=((x=w.current)===null||x===void 0?void 0:x.offsetWidth)||0,Pt=((m=w.current)===null||m===void 0?void 0:m.offsetHeight)||0,Xe=((L=V.current)===null||L===void 0?void 0:L.offsetWidth)||0,Ze=((j=V.current)===null||j===void 0?void 0:j.offsetHeight)||0;Te(Me),le(Pt),ue(Xe),mt(Ze);var It=(((re=M.current)===null||re===void 0?void 0:re.offsetWidth)||0)-Xe,Mt=(((pe=M.current)===null||pe===void 0?void 0:pe.offsetHeight)||0)-Ze;U(It),ae(Mt),xt(function(){var qe=new Map;return n.forEach(function(At){var Je=At.key,me=R(Je).current;me&&qe.set(Je,{width:me.offsetWidth,height:me.offsetHeight,left:me.offsetLeft,top:me.offsetTop})}),qe})}),Tt=n.slice(0,Et),Rt=n.slice(Ct+1),Fe=[].concat(Qe(Tt),Qe(Rt)),kt=t.exports.useState(),_e=E(kt,2),wt=_e[0],Nt=_e[1],Q=ge.get(b),je=t.exports.useRef();function Ge(){be.cancel(je.current)}t.exports.useEffect(function(){var x={};return Q&&(v?(d?x.right=Q.right:x.left=Q.left,x.width=Q.width):(x.top=Q.top,x.height=Q.height)),Ge(),je.current=be(function(){Nt(x)}),Ge},[Q,v,d]),t.exports.useEffect(function(){He()},[b,Q,ge,v]),t.exports.useEffect(function(){Ne()},[d,W,b,n.map(function(x){return x.key}).join("_")]);var ze=!!Fe.length,ve="".concat(a,"-nav-wrap"),Pe,Ie,Ue,Ye;return v?d?(Ie=A>0,Pe=A+_<g):(Pe=A<0,Ie=-A+_<g):(Ue=K<0,Ye=-K+q<X),t.exports.createElement("div",{ref:o,role:"tablist",className:Y("".concat(a,"-nav"),s),style:u,onKeyDown:function(){ke()}},t.exports.createElement(st,{position:"left",extra:h,prefixCls:a}),t.exports.createElement(tt,{onResize:Ne},t.exports.createElement("div",{className:Y(ve,(r={},$(r,"".concat(ve,"-ping-left"),Pe),$(r,"".concat(ve,"-ping-right"),Ie),$(r,"".concat(ve,"-ping-top"),Ue),$(r,"".concat(ve,"-ping-bottom"),Ye),r)),ref:w},t.exports.createElement(tt,{onResize:Ne},t.exports.createElement("div",{ref:M,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(A,"px, ").concat(K,"px)"),transition:ye?"none":void 0}},Ve,t.exports.createElement(ft,{ref:V,prefixCls:a,locale:y,editable:B,style:G(G({},Ve.length===0?void 0:Se),{},{visibility:ze?"hidden":null})}),t.exports.createElement("div",{className:Y("".concat(a,"-ink-bar"),$({},"".concat(a,"-ink-bar-animated"),p.inkBar)),style:wt}))))),t.exports.createElement(zt,Ae({},e,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:O,prefixCls:a,tabs:Fe,className:!ze&&gt,tabMoving:!!ye})),t.exports.createElement(st,{position:"right",extra:h,prefixCls:a}))}var ct=t.exports.forwardRef(Zt);function qt(e){var o=e.id,r=e.activeKey,i=e.animated,a=e.tabPosition,n=e.rtl,s=e.destroyInactiveTabPane,u=t.exports.useContext(Le),c=u.prefixCls,p=u.tabs,b=i.tabPane,d=p.findIndex(function(h){return h.key===r});return t.exports.createElement("div",{className:Y("".concat(c,"-content-holder"))},t.exports.createElement("div",{className:Y("".concat(c,"-content"),"".concat(c,"-content-").concat(a),$({},"".concat(c,"-content-animated"),b)),style:d&&b?$({},n?"marginRight":"marginLeft","-".concat(d,"00%")):null},p.map(function(h){return t.exports.cloneElement(h.node,{key:h.key,prefixCls:c,tabKey:h.key,id:o,animated:b,active:h.key===r,destroyInactiveTabPane:s})})))}function Jt(e){var o=e.prefixCls,r=e.forceRender,i=e.className,a=e.style,n=e.id,s=e.active,u=e.animated,c=e.destroyInactiveTabPane,p=e.tabKey,b=e.children,d=t.exports.useState(r),h=E(d,2),B=h[0],y=h[1];t.exports.useEffect(function(){s?y(!0):c&&y(!1)},[s,c]);var S={};return s||(u?(S.visibility="hidden",S.height=0,S.overflowY="hidden"):S.display="none"),t.exports.createElement("div",{id:n&&"".concat(n,"-panel-").concat(p),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":n&&"".concat(n,"-tab-").concat(p),"aria-hidden":!s,style:G(G({},S),a),className:Y("".concat(o,"-tabpane"),s&&"".concat(o,"-tabpane-active"),i)},(s||B||r)&&b)}var Qt=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],lt=0;function ea(e){return Wt(e).map(function(o){if(t.exports.isValidElement(o)){var r=o.key!==void 0?String(o.key):void 0;return G(G({key:r},o.props),{},{node:o})}return null}).filter(function(o){return o})}function ta(e,o){var r,i=e.id,a=e.prefixCls,n=a===void 0?"rc-tabs":a,s=e.className,u=e.children,c=e.direction,p=e.activeKey,b=e.defaultActiveKey,d=e.editable,h=e.animated,B=h===void 0?{inkBar:!0,tabPane:!1}:h,y=e.tabPosition,S=y===void 0?"top":y,W=e.tabBarGutter,D=e.tabBarStyle,H=e.tabBarExtraContent,P=e.locale,w=e.moreIcon,M=e.moreTransitionName,O=e.destroyInactiveTabPane,V=e.renderTabBar,T=e.onChange,l=e.onTabClick,R=e.onTabScroll,N=e.getPopupContainer,v=e.popupClassName,C=Lt(e,Qt),k=ea(u),A=c==="rtl",z;B===!1?z={inkBar:!1,tabPane:!1}:B===!0?z={inkBar:!0,tabPane:!0}:z=G({inkBar:!0,tabPane:!1},ut(B)==="object"?B:{});var oe=t.exports.useState(!1),ee=E(oe,2),K=ee[0],te=ee[1];t.exports.useEffect(function(){te(Bt())},[]);var ie=et(function(){var I;return(I=k[0])===null||I===void 0?void 0:I.key},{value:p,defaultValue:b}),f=E(ie,2),g=f[0],U=f[1],F=t.exports.useState(function(){return k.findIndex(function(I){return I.key===g})}),J=E(F,2),X=J[0],ae=J[1];t.exports.useEffect(function(){var I=k.findIndex(function(ue){return ue.key===g});if(I===-1){var ne;I=Math.max(0,Math.min(X,k.length-1)),U((ne=k[I])===null||ne===void 0?void 0:ne.key)}ae(I)},[k.map(function(I){return I.key}).join("_"),g,X]);var Ce=et(null,{value:i}),se=E(Ce,2),_=se[0],Te=se[1],ce=S;K&&!["left","right"].includes(S)&&(ce="top"),t.exports.useEffect(function(){i||(Te("rc-tabs-".concat(lt)),lt+=1)},[]);function he(I,ne){l==null||l(I,ne);var ue=I!==g;U(I),ue&&(T==null||T(I))}var q={id:_,activeKey:g,animated:z,tabPosition:ce,rtl:A,mobile:K},le,xe=G(G({},q),{},{editable:d,locale:P,moreIcon:w,moreTransitionName:M,tabBarGutter:W,onTabClick:he,onTabScroll:R,extra:H,style:D,panes:u,getPopupContainer:N,popupClassName:v});return V?le=V(xe,ct):le=t.exports.createElement(ct,xe),t.exports.createElement(Le.Provider,{value:{tabs:k,prefixCls:n}},t.exports.createElement("div",Ae({ref:o,id:i,className:Y(n,"".concat(n,"-").concat(ce),(r={},$(r,"".concat(n,"-mobile"),K),$(r,"".concat(n,"-editable"),d),$(r,"".concat(n,"-rtl"),A),r),s)},C),le,t.exports.createElement(qt,Ae({destroyInactiveTabPane:O},q,{animated:z}))))}var aa=t.exports.forwardRef(ta);aa.TabPane=Jt;export{aa as F,Jt as T};
