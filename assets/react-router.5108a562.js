import{p as v,A as w}from"./history.593e1627.js";import{r as o}from"./react.658dc38c.js";/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B=o.exports.createContext(null),P=o.exports.createContext(null),g=o.exports.createContext({outlet:null,matches:[]});function m(e,t){if(!e)throw new Error(t)}function I(e,t,a){a===void 0&&(a="/");let l=typeof t=="string"?v(t):t,n=W(l.pathname||"/",a);if(n==null)return null;let r=$(e);N(r);let s=null;for(let i=0;s==null&&i<r.length;++i)s=T(r[i],n);return s}function $(e,t,a,l){return t===void 0&&(t=[]),a===void 0&&(a=[]),l===void 0&&(l=""),e.forEach((n,r)=>{let s={relativePath:n.path||"",caseSensitive:n.caseSensitive===!0,childrenIndex:r,route:n};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(l)||m(!1),s.relativePath=s.relativePath.slice(l.length));let i=d([l,s.relativePath]),u=a.concat(s);n.children&&n.children.length>0&&(n.index===!0&&m(!1),$(n.children,t,u,i)),!(n.path==null&&!n.index)&&t.push({path:i,score:J(i,n.index),routesMeta:u})}),t}function N(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:F(t.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const j=/^:\w+$/,M=3,V=2,L=1,k=10,z=-2,y=e=>e==="*";function J(e,t){let a=e.split("/"),l=a.length;return a.some(y)&&(l+=z),t&&(l+=V),a.filter(n=>!y(n)).reduce((n,r)=>n+(j.test(r)?M:r===""?L:k),l)}function F(e,t){return e.length===t.length&&e.slice(0,-1).every((l,n)=>l===t[n])?e[e.length-1]-t[t.length-1]:0}function T(e,t){let{routesMeta:a}=e,l={},n="/",r=[];for(let s=0;s<a.length;++s){let i=a[s],u=s===a.length-1,c=n==="/"?t:t.slice(n.length)||"/",h=U({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},c);if(!h)return null;Object.assign(l,h.params);let f=i.route;r.push({params:l,pathname:d([n,h.pathname]),pathnameBase:E(d([n,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(n=d([n,h.pathnameBase]))}return r}function U(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=D(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let r=n[0],s=r.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:l.reduce((c,h,f)=>{if(h==="*"){let p=i[f]||"";s=r.slice(0,r.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=G(i[f]||""),c},{}),pathname:r,pathnameBase:s,pattern:e}}function D(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0);let l=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,i)=>(l.push(i),"([^\\/]+)"));return e.endsWith("*")?(l.push("*"),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=a?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(n,t?void 0:"i"),l]}function G(e,t){try{return decodeURIComponent(e)}catch{return e}}function H(e,t){t===void 0&&(t="/");let{pathname:a,search:l="",hash:n=""}=typeof e=="string"?v(e):e;return{pathname:a?a.startsWith("/")?a:_(a,t):t,search:q(l),hash:K(n)}}function _(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function b(e,t,a){let l=typeof e=="string"?v(e):e,n=e===""||l.pathname===""?"/":l.pathname,r;if(n==null)r=a;else{let i=t.length-1;if(n.startsWith("..")){let u=n.split("/");for(;u[0]==="..";)u.shift(),i-=1;l.pathname=u.join("/")}r=i>=0?t[i]:"/"}let s=H(l,r);return n&&n!=="/"&&n.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function W(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=e.charAt(t.length);return a&&a!=="/"?null:e.slice(t.length)||"/"}const d=e=>e.join("/").replace(/\/\/+/g,"/"),E=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x(){return o.exports.useContext(P)!=null}function O(){return x()||m(!1),o.exports.useContext(P).location}function Q(){x()||m(!1);let{basename:e,navigator:t}=o.exports.useContext(B),{matches:a}=o.exports.useContext(g),{pathname:l}=O(),n=JSON.stringify(a.map(i=>i.pathnameBase)),r=o.exports.useRef(!1);return o.exports.useEffect(()=>{r.current=!0}),o.exports.useCallback(function(i,u){if(u===void 0&&(u={}),!r.current)return;if(typeof i=="number"){t.go(i);return}let c=b(i,JSON.parse(n),l);e!=="/"&&(c.pathname=d([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state)},[e,t,n,l])}const X=o.exports.createContext(null);function Y(e){let t=o.exports.useContext(g).outlet;return t&&o.exports.createElement(X.Provider,{value:e},t)}function te(e,t){x()||m(!1);let{matches:a}=o.exports.useContext(g),l=a[a.length-1],n=l?l.params:{};l&&l.pathname;let r=l?l.pathnameBase:"/";l&&l.route;let s=O(),i;if(t){var u;let p=typeof t=="string"?v(t):t;r==="/"||((u=p.pathname)==null?void 0:u.startsWith(r))||m(!1),i=p}else i=s;let c=i.pathname||"/",h=r==="/"?c:c.slice(r.length)||"/",f=I(e,{pathname:h});return Z(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},n,p.params),pathname:d([r,p.pathname]),pathnameBase:p.pathnameBase==="/"?r:d([r,p.pathnameBase])})),a)}function Z(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((a,l,n)=>o.exports.createElement(g.Provider,{children:l.route.element!==void 0?l.route.element:a,value:{outlet:a,matches:t.concat(e.slice(0,n+1))}}),null)}function ne(e){let{to:t,replace:a,state:l}=e;x()||m(!1);let n=Q();return o.exports.useEffect(()=>{n(t,{replace:a,state:l})}),null}function ae(e){return Y(e.context)}function le(e){let{basename:t="/",children:a=null,location:l,navigationType:n=w.Pop,navigator:r,static:s=!1}=e;x()&&m(!1);let i=E(t),u=o.exports.useMemo(()=>({basename:i,navigator:r,static:s}),[i,r,s]);typeof l=="string"&&(l=v(l));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:C="default"}=l,R=o.exports.useMemo(()=>{let S=W(c,i);return S==null?null:{pathname:S,search:h,hash:f,state:p,key:C}},[i,c,h,f,p,C]);return R==null?null:o.exports.createElement(B.Provider,{value:u},o.exports.createElement(P.Provider,{children:a,value:{location:R,navigationType:n}}))}export{ne as N,ae as O,le as R,Q as a,te as b,O as u};
